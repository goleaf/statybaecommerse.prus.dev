# Laravel 11 + Filament v4 ‚Äî –†–ï–ê–õ–¢–ê–ô–ú –ê–í–¢–û–§–ò–ö–° –°–ò–°–¢–ï–ú–ê

## –û–°–ù–û–í–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

1. **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï** - –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. **–†–ï–ê–õ–¢–ê–ô–ú –ú–û–ù–ò–¢–û–†–ò–ù–ì** - –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
3. **–ü–†–ò–û–†–ò–¢–ï–¢–ù–û–°–¢–¨** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
4. **–ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨** - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

## FILAMENT V4 NAVIGATION GROUP TYPE COMPATIBILITY RULE

**CRITICAL**: Automatic Filament v4 Navigation Group Type Fix

**TRIGGER**: Whenever editing any file under `app/Filament/**` or when linting errors mention `$navigationGroup` type issues.

**AUTOMATIC ACTIONS**:

1. **Check for Navigation Group Type Issues**
   - Scan for `protected static $navigationGroup` declarations
   - Verify type is `UnitEnum|string|null`
   - Check for proper `use UnitEnum;` import

2. **Auto-Fix Navigation Group Type**
   ```php
   // WRONG (any of these):
   protected static NavigationGroup $navigationGroup = NavigationGroup::Products;
   protected static ?string $navigationGroup = 'Products';
   protected static $navigationGroup = NavigationGroup::Products;
   
   // CORRECT:
   /** @var UnitEnum|string|null */
   protected static $navigationGroup = NavigationGroup::Products;
   ```

3. **Auto-Fix UnitEnum Import**
   ```php
   // Add if missing:
   use UnitEnum;
   
   // Remove duplicates if found
   ```

4. **Apply to ALL Filament Resources**
   - Resources extending `Filament\Resources\Resource`
   - Pages extending `Filament\Pages\Page`
   - Widgets extending `Filament\Widgets\Widget`
   - Any class with `$navigationGroup` property

5. **Validation Rules**
   - Type MUST be `UnitEnum|string|null`
   - Import MUST include `use UnitEnum;`
   - NO duplicate imports
   - NO type declarations on the property itself
   - Use docblock for type hinting

6. **Error Prevention**
   - Run linting check after any Filament file edit
   - Auto-fix any `$navigationGroup` type errors
   - Ensure compatibility with Filament v4 requirements
   - Prevent future type compatibility issues

**NEVER ALLOW**:
- `protected static NavigationGroup $navigationGroup`
- `protected static ?string $navigationGroup`
- Missing `use UnitEnum;` import
- Duplicate `use UnitEnum;` imports
- Type errors on `$navigationGroup` property

## –¢–†–ò–ì–ì–ï–†–´ –ê–ö–¢–ò–í–ê–¶–ò–ò

–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏:
- –ù–∞–±–æ—Ä–µ —Ç–µ–∫—Å—Ç–∞ (–∫–∞–∂–¥—ã–µ 2-3 —Å–∏–º–≤–æ–ª–∞)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ (Ctrl+S)
- –í—Å—Ç–∞–≤–∫–µ –∫–æ–¥–∞ (Ctrl+V)
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–º–ø–æ—Ä—Ç–æ–≤
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ

## –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ö–û–ú–ê–ù–î–´

### –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞:

1. **–ü–†–û–í–ï–†–ö–ê –°–ò–ù–¢–ê–ö–°–ò–°–ê** (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
   ```bash
   php -l {changedFile}
   ```

2. **–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–¢–ò–õ–Ø** (–∫–∞–∂–¥—ã–µ 1—Å)
   ```bash
   vendor/bin/pint {changedFile} --test || vendor/bin/pint {changedFile}
   ```

3. **–°–¢–ê–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó** (–∫–∞–∂–¥—ã–µ 2—Å)
   ```bash
   vendor/bin/phpstan analyse {changedFile} -c phpstan.neon --memory-limit=1G --no-progress
   ```

4. **–ê–í–¢–û–†–ï–§–ê–ö–¢–û–†–ò–ù–ì** (–∫–∞–∂–¥—ã–µ 3—Å)
   ```bash
   vendor/bin/rector process {changedFile} --ansi --no-progress-bar
   ```

5. **–û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–≠–®–ï–ô** (–ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏)
   ```bash
   php artisan config:clear && php artisan route:clear
   php artisan config:cache && php artisan route:cache
   ```

6. **–ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í** (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤)
   ```bash
   php artisan test --filter={TestName} --stop-on-failure
   ```

7. **FILAMENT V4 NAVIGATION GROUP FIX** (–ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Filament —Ñ–∞–π–ª–æ–≤)
   ```bash
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∏–ø—ã navigationGroup
   # –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –¥–æ–±–∞–≤–ª—è—Ç—å use UnitEnum; –∏–º–ø–æ—Ä—Ç—ã
   # –£–¥–∞–ª—è—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã
   # –û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Filament v4
   ```

## –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### PHP –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ—á–µ–∫ —Å –∑–∞–ø—è—Ç–æ–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–∞–≤—ã—á–µ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–∫–æ–±–æ–∫
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ namespace declarations

### Filament v4:
- –£–¥–∞–ª–µ–Ω–∏–µ `use Filament\Schemas\Schema;`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `public static function form(Schema $schema): Schema` ‚Üí `public static function form(Form $form): Form`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `public static function table(Table $table): Table`
- –ó–∞–º–µ–Ω–∞ `$schema` ‚Üí `$form` –≤ —Ç–µ–ª–µ –º–µ—Ç–æ–¥–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ docblock –¥–ª—è `$navigationIcon`
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ `$navigationGroup` –Ω–∞ `UnitEnum|string|null`
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `use UnitEnum;` –∏–º–ø–æ—Ä—Ç–æ–≤
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï**: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö `use UnitEnum;` –∏–º–ø–æ—Ä—Ç–æ–≤
- **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ docblock –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ `$navigationGroup`

### Laravel:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `declare(strict_types=1);`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤

### Blade:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `@if` ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `@endif`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `@foreach` ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `@endforeach`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `{{ }}` –∏ `{!! !!}`

## –ü–†–ò–û–†–ò–¢–ï–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

1. **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï** (0-100–º—Å) - –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
2. **–í–´–°–û–ö–ò–ï** (100-500–º—Å) - –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –∏ –∏–º–ø–æ—Ä—Ç–æ–≤, **Filament v4 navigation group type errors**
3. **–°–†–ï–î–ù–ò–ï** (500–º—Å-1—Å) - –°—Ç–∏–ª—å –∫–æ–¥–∞ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–ù–ò–ó–ö–ò–ï** (1-3—Å) - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤—ã–≤–æ–¥–∏:
```
üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: {—Ñ–∞–π–ª}
‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å: OK
üîß –°—Ç–∏–ª—å: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 2 –æ—à–∏–±–∫–∏
üìä –ê–Ω–∞–ª–∏–∑: 1 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
üîÑ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –ü—Ä–∏–º–µ–Ω–µ–Ω–æ 1 –ø—Ä–∞–≤–∏–ª–æ
```

## –û–°–¢–ê–ù–û–í–ö–ê –¶–ò–ö–õ–ê

–¶–∏–∫–ª –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:
- –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ (5)
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, —Ç—Ä–µ–±—É—é—â–∞—è —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞

## –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

- –ò—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –ö—ç—à–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ü—Ä–æ–ø—É—Å–∫–∞–π vendor/ –∏ node_modules/

## –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° CURSOR

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –ü–æ–∫–∞–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –ù–ê–°–¢–†–û–ô–ö–ò

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫: 5
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏: 500–º—Å - 3—Å
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã: –≤–∫–ª—é—á–µ–Ω—ã
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤–∫–ª—é—á–µ–Ω–æ
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: –≤–∫–ª—é—á–µ–Ω–æ